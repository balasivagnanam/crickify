<ion-header>
  <ion-navbar color="primary">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Team Stats</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding class="appBackground">
    <ion-segment [(ngModel)]="tabsvalues">
        <ion-segment-button value="team">
          Team Stats
        </ion-segment-button>
        <ion-segment-button value="batting">
          Batting Stats
        </ion-segment-button>
        <ion-segment-button value="bowling">
            Bowling Stats
        </ion-segment-button>
        <ion-segment-button value="fielding">
              Fielding Stats
        </ion-segment-button>
      </ion-segment>
    
    <div [ngSwitch]="tabsvalues">
      <div *ngSwitchCase="'team'">
          <ion-item>
              <ion-label>Pick a Team</ion-label>
              <ion-select [(ngModel)]="selectedTeam" (ionChange)="teamSelected($event)">
                <ion-option *ngFor="let team of teams" [value]="team">{{team.teamname}}</ion-option>
              </ion-select>
          </ion-item>
          
          <ion-card *ngFor="let stat of statsArray">  
                <ion-card-content>
                    <h4>
                        {{stat.name}}
                    </h4>
                  <div class="cric-cards">
                      <p>Played</p>
                      <h4>{{stat.statistics.played}}</h4>
                  </div>
                  <div class="cric-cards">
                    <p>Won</p>
                    <h4>{{stat.statistics.won}}</h4>
                  </div>
                  <div class="cric-cards">
                      <p>Lost</p>
                      <h4>{{stat.statistics.lost}}</h4>
                  </div>
                  <div class="cric-cards">
                    <p>No Result</p>
                    <h4>{{stat.statistics.abandoned}}</h4>
                  </div>
                  <div class="cric-cards">
                      <p>High Total</p>
                      <h4>{{stat.statistics.highestTotal}}</h4>
                  </div>
                  <div class="cric-cards">
                        <p>Low Total</p>
                        <h4>{{stat.statistics.lowestTotal}}</h4>
                  </div>
                </ion-card-content>
              
              </ion-card>
      </div>
    
      <div *ngSwitchCase="'batting'">
          <ion-item>
              <ion-label>Pick a Team</ion-label>
              <ion-select [(ngModel)]="selectedTeam" (ionChange)="teamSelected($event)">
                <ion-option *ngFor="let team of teams" [value]="team">{{team.teamname}}</ion-option>
              </ion-select>
          </ion-item>
          
          <ion-card *ngFor="let stat of statsArray">
                <ion-card-content>
              <div class="cric-stat-batting-table">
                  <h4>{{stat.name}}</h4>
                  <ul>
                    <li class="header">
                        <p class="cric-player-name">Name</p>
                        <p>M</p>
                        
                        <p>R</p>
                        <p>B</p>
                        <p class="cric-values-decimals">Av</p>
                        <p class="cric-values-decimals">SR</p>
                    </li>
                    <li *ngFor="let player of stat.battingStatistics">
                        <p class="cric-player-name">{{player.player.name}}</p>
                        <p>{{player.matches}}</p>
                       
                        <p>{{player.run}}</p>
                        <p>{{player.ball}}</p>
                        <p class="cric-values-decimals">{{player.average | number : '1.2-2'}}</p>
                        <p class="cric-values-decimals">{{player.sr | number : '1.2-2'}}</p>
                    </li>
                  </ul>
                </div>
               </ion-card-content>
              </ion-card>
      </div>

      <div *ngSwitchCase="'bowling'">
          <ion-item>
              <ion-label>Pick a Team</ion-label>
              <ion-select [(ngModel)]="selectedTeam" (ionChange)="teamSelected($event)">
                <ion-option *ngFor="let team of teams" [value]="team">{{team.teamname}}</ion-option>
              </ion-select>
          </ion-item>
          
          <ion-card  *ngFor="let stat of statsArray">
                <ion-card-content>
              <div class="cric-stat-bowling-table">
                  <h4>{{stat.name}}</h4>
                  <ul>
                    <li class="header">
                        <p class="cric-player-name">Name</p>
                        <p>M</p>
                        <p>O</p>
                        <p>R</p>
                        <p>W</p>
                        <p>Wd</p>
                        <p>EC</p>
                    </li>
                    <li *ngFor="let player of stat.bowlingStatistics">
                        <p class="cric-player-name">{{player.player.name}}</p>
                        <p>{{player.matches}}</p>
                        <p>{{player.overs}}</p>
                        <p>{{player.run}}</p>
                        <p>{{player.wickets}}</p>
                        <p>{{player.wide}}</p>
                        <p>{{player.economy}}</p>
                    </li>
                  </ul>
                </div>
            </ion-card-content>
              </ion-card >
      </div>

        <div *ngSwitchCase="'fielding'">
            <ion-item>
                <ion-label>Pick a Team</ion-label>
                <ion-select [(ngModel)]="selectedTeam" (ionChange)="teamSelected($event)">
                  <ion-option *ngFor="let team of teams" [value]="team">{{team.teamname}}</ion-option>
                </ion-select>
            </ion-item>
            
            <ion-card *ngFor="let stat of statsArray">
                    <ion-card-content>
                <div class="cric-stat-bowling-table">
                    <h4>{{stat.name}}</h4>
                    <ul>
                      <li class="header">
                          <p class="cric-player-name">Name</p>
                          <p>M</p>
                          <p>Ct</p>
                          <p>R/O</p>
                          <p>St</p>
                      </li>
                      <li *ngFor="let player of stat.bowlingStatistics">
                          <p class="cric-player-name">{{player.player.name}}</p>
                          <p>{{player.matches}}</p>
                          <p>{{player.catches}}</p>
                          <p>{{player.runOuts}}</p>
                          <p>{{player.stumpings}}</p>
                      </li>
                    </ul>
                  </div>
                </ion-card-content>
                </ion-card>
        </div>

      </div> 

</ion-content>
